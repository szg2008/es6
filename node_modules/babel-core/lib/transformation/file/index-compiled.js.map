{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index-compiled.js","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports.File = undefined;\n\nvar _typeof2 = require(\"babel-runtime/helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _getIterator2 = require(\"babel-runtime/core-js/get-iterator\");\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nvar _create = require(\"babel-runtime/core-js/object/create\");\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _assign = require(\"babel-runtime/core-js/object/assign\");\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _babelHelpers = require(\"babel-helpers\");\n\nvar _babelHelpers2 = _interopRequireDefault(_babelHelpers);\n\nvar _metadata = require(\"./metadata\");\n\nvar metadataVisitor = _interopRequireWildcard(_metadata);\n\nvar _convertSourceMap = require(\"convert-source-map\");\n\nvar _convertSourceMap2 = _interopRequireDefault(_convertSourceMap);\n\nvar _optionManager = require(\"./options/option-manager\");\n\nvar _optionManager2 = _interopRequireDefault(_optionManager);\n\nvar _pluginPass = require(\"../plugin-pass\");\n\nvar _pluginPass2 = _interopRequireDefault(_pluginPass);\n\nvar _babelTraverse = require(\"babel-traverse\");\n\nvar _babelTraverse2 = _interopRequireDefault(_babelTraverse);\n\nvar _sourceMap = require(\"source-map\");\n\nvar _sourceMap2 = _interopRequireDefault(_sourceMap);\n\nvar _babelGenerator = require(\"babel-generator\");\n\nvar _babelGenerator2 = _interopRequireDefault(_babelGenerator);\n\nvar _babelCodeFrame = require(\"babel-code-frame\");\n\nvar _babelCodeFrame2 = _interopRequireDefault(_babelCodeFrame);\n\nvar _defaults = require(\"lodash/defaults\");\n\nvar _defaults2 = _interopRequireDefault(_defaults);\n\nvar _logger = require(\"./logger\");\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _store = require(\"../../store\");\n\nvar _store2 = _interopRequireDefault(_store);\n\nvar _babylon = require(\"babylon\");\n\nvar _util = require(\"../../util\");\n\nvar util = _interopRequireWildcard(_util);\n\nvar _path = require(\"path\");\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _babelTypes = require(\"babel-types\");\n\nvar t = _interopRequireWildcard(_babelTypes);\n\nvar _resolve = require(\"../../helpers/resolve\");\n\nvar _resolve2 = _interopRequireDefault(_resolve);\n\nvar _blockHoist = require(\"../internal-plugins/block-hoist\");\n\nvar _blockHoist2 = _interopRequireDefault(_blockHoist);\n\nvar _shadowFunctions = require(\"../internal-plugins/shadow-functions\");\n\nvar _shadowFunctions2 = _interopRequireDefault(_shadowFunctions);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar shebangRegex = /^#!.*/;\n\nvar INTERNAL_PLUGINS = [[_blockHoist2.default], [_shadowFunctions2.default]];\n\nvar errorVisitor = {\n  enter: function enter(path, state) {\n    var loc = path.node.loc;\n    if (loc) {\n      state.loc = loc;\n      path.stop();\n    }\n  }\n};\n\nvar File = function (_Store) {\n  (0, _inherits3.default)(File, _Store);\n\n  function File() {\n    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var pipeline = arguments[1];\n    (0, _classCallCheck3.default)(this, File);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, _Store.call(this));\n\n    _this.pipeline = pipeline;\n\n    _this.log = new _logger2.default(_this, opts.filename || \"unknown\");\n    _this.opts = _this.initOptions(opts);\n\n    _this.parserOpts = {\n      sourceType: _this.opts.sourceType,\n      sourceFileName: _this.opts.filename,\n      plugins: []\n    };\n\n    _this.pluginVisitors = [];\n    _this.pluginPasses = [];\n\n    _this.buildPluginsForOptions(_this.opts);\n\n    if (_this.opts.passPerPreset) {\n      _this.perPresetOpts = [];\n      _this.opts.presets.forEach(function (presetOpts) {\n        var perPresetOpts = (0, _assign2.default)((0, _create2.default)(_this.opts), presetOpts);\n        _this.perPresetOpts.push(perPresetOpts);\n        _this.buildPluginsForOptions(perPresetOpts);\n      });\n    }\n\n    _this.metadata = {\n      usedHelpers: [],\n      marked: [],\n      modules: {\n        imports: [],\n        exports: {\n          exported: [],\n          specifiers: []\n        }\n      }\n    };\n\n    _this.dynamicImportTypes = {};\n    _this.dynamicImportIds = {};\n    _this.dynamicImports = [];\n    _this.declarations = {};\n    _this.usedHelpers = {};\n\n    _this.path = null;\n    _this.ast = {};\n\n    _this.code = \"\";\n    _this.shebang = \"\";\n\n    _this.hub = new _babelTraverse.Hub(_this);\n    return _this;\n  }\n\n  File.prototype.getMetadata = function getMetadata() {\n    var has = false;\n    for (var _iterator = this.ast.program.body, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : (0, _getIterator3.default)(_iterator);;) {\n      var _ref;\n\n      if (_isArray) {\n        if (_i >= _iterator.length) break;\n        _ref = _iterator[_i++];\n      } else {\n        _i = _iterator.next();\n        if (_i.done) break;\n        _ref = _i.value;\n      }\n\n      var node = _ref;\n\n      if (t.isModuleDeclaration(node)) {\n        has = true;\n        break;\n      }\n    }\n    if (has) {\n      this.path.traverse(metadataVisitor, this);\n    }\n  };\n\n  File.prototype.initOptions = function initOptions(opts) {\n    opts = new _optionManager2.default(this.log, this.pipeline).init(opts);\n\n    if (opts.inputSourceMap) {\n      opts.sourceMaps = true;\n    }\n\n    if (opts.moduleId) {\n      opts.moduleIds = true;\n    }\n\n    opts.basename = _path2.default.basename(opts.filename, _path2.default.extname(opts.filename));\n\n    opts.ignore = util.arrayify(opts.ignore, util.regexify);\n\n    if (opts.only) opts.only = util.arrayify(opts.only, util.regexify);\n\n    (0, _defaults2.default)(opts, {\n      moduleRoot: opts.sourceRoot\n    });\n\n    (0, _defaults2.default)(opts, {\n      sourceRoot: opts.moduleRoot\n    });\n\n    (0, _defaults2.default)(opts, {\n      filenameRelative: opts.filename\n    });\n\n    var basenameRelative = _path2.default.basename(opts.filenameRelative);\n\n    (0, _defaults2.default)(opts, {\n      sourceFileName: basenameRelative,\n      sourceMapTarget: basenameRelative\n    });\n\n    return opts;\n  };\n\n  File.prototype.buildPluginsForOptions = function buildPluginsForOptions(opts) {\n    if (!Array.isArray(opts.plugins)) {\n      return;\n    }\n\n    var plugins = opts.plugins.concat(INTERNAL_PLUGINS);\n    var currentPluginVisitors = [];\n    var currentPluginPasses = [];\n\n    for (var _iterator2 = plugins, _isArray2 = Array.isArray(_iterator2), _i2 = 0, _iterator2 = _isArray2 ? _iterator2 : (0, _getIterator3.default)(_iterator2);;) {\n      var _ref2;\n\n      if (_isArray2) {\n        if (_i2 >= _iterator2.length) break;\n        _ref2 = _iterator2[_i2++];\n      } else {\n        _i2 = _iterator2.next();\n        if (_i2.done) break;\n        _ref2 = _i2.value;\n      }\n\n      var ref = _ref2;\n      var plugin = ref[0],\n          pluginOpts = ref[1];\n\n\n      currentPluginVisitors.push(plugin.visitor);\n      currentPluginPasses.push(new _pluginPass2.default(this, plugin, pluginOpts));\n\n      if (plugin.manipulateOptions) {\n        plugin.manipulateOptions(opts, this.parserOpts, this);\n      }\n    }\n\n    this.pluginVisitors.push(currentPluginVisitors);\n    this.pluginPasses.push(currentPluginPasses);\n  };\n\n  File.prototype.getModuleName = function getModuleName() {\n    var opts = this.opts;\n    if (!opts.moduleIds) {\n      return null;\n    }\n\n    if (opts.moduleId != null && !opts.getModuleId) {\n      return opts.moduleId;\n    }\n\n    var filenameRelative = opts.filenameRelative;\n    var moduleName = \"\";\n\n    if (opts.moduleRoot != null) {\n      moduleName = opts.moduleRoot + \"/\";\n    }\n\n    if (!opts.filenameRelative) {\n      return moduleName + opts.filename.replace(/^\\//, \"\");\n    }\n\n    if (opts.sourceRoot != null) {\n      var sourceRootRegEx = new RegExp(\"^\" + opts.sourceRoot + \"\\/?\");\n      filenameRelative = filenameRelative.replace(sourceRootRegEx, \"\");\n    }\n\n    filenameRelative = filenameRelative.replace(/\\.(\\w*?)$/, \"\");\n\n    moduleName += filenameRelative;\n\n    moduleName = moduleName.replace(/\\\\/g, \"/\");\n\n    if (opts.getModuleId) {\n      return opts.getModuleId(moduleName) || moduleName;\n    } else {\n      return moduleName;\n    }\n  };\n\n  File.prototype.resolveModuleSource = function resolveModuleSource(source) {\n    var resolveModuleSource = this.opts.resolveModuleSource;\n    if (resolveModuleSource) source = resolveModuleSource(source, this.opts.filename);\n    return source;\n  };\n\n  File.prototype.addImport = function addImport(source, imported) {\n    var name = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : imported;\n\n    var alias = source + \":\" + imported;\n    var id = this.dynamicImportIds[alias];\n\n    if (!id) {\n      source = this.resolveModuleSource(source);\n      id = this.dynamicImportIds[alias] = this.scope.generateUidIdentifier(name);\n\n      var specifiers = [];\n\n      if (imported === \"*\") {\n        specifiers.push(t.importNamespaceSpecifier(id));\n      } else if (imported === \"default\") {\n        specifiers.push(t.importDefaultSpecifier(id));\n      } else {\n        specifiers.push(t.importSpecifier(id, t.identifier(imported)));\n      }\n\n      var declar = t.importDeclaration(specifiers, t.stringLiteral(source));\n      declar._blockHoist = 3;\n\n      this.path.unshiftContainer(\"body\", declar);\n    }\n\n    return id;\n  };\n\n  File.prototype.addHelper = function addHelper(name) {\n    var declar = this.declarations[name];\n    if (declar) return declar;\n\n    if (!this.usedHelpers[name]) {\n      this.metadata.usedHelpers.push(name);\n      this.usedHelpers[name] = true;\n    }\n\n    var generator = this.get(\"helperGenerator\");\n    var runtime = this.get(\"helpersNamespace\");\n    if (generator) {\n      var res = generator(name);\n      if (res) return res;\n    } else if (runtime) {\n      return t.memberExpression(runtime, t.identifier(name));\n    }\n\n    var ref = (0, _babelHelpers2.default)(name);\n    var uid = this.declarations[name] = this.scope.generateUidIdentifier(name);\n\n    if (t.isFunctionExpression(ref) && !ref.id) {\n      ref.body._compact = true;\n      ref._generated = true;\n      ref.id = uid;\n      ref.type = \"FunctionDeclaration\";\n      this.path.unshiftContainer(\"body\", ref);\n    } else {\n      ref._compact = true;\n      this.scope.push({\n        id: uid,\n        init: ref,\n        unique: true\n      });\n    }\n\n    return uid;\n  };\n\n  File.prototype.addTemplateObject = function addTemplateObject(helperName, strings, raw) {\n    var stringIds = raw.elements.map(function (string) {\n      return string.value;\n    });\n    var name = helperName + \"_\" + raw.elements.length + \"_\" + stringIds.join(\",\");\n\n    var declar = this.declarations[name];\n    if (declar) return declar;\n\n    var uid = this.declarations[name] = this.scope.generateUidIdentifier(\"templateObject\");\n\n    var helperId = this.addHelper(helperName);\n    var init = t.callExpression(helperId, [strings, raw]);\n    init._compact = true;\n    this.scope.push({\n      id: uid,\n      init: init,\n      _blockHoist: 1.9 });\n    return uid;\n  };\n\n  File.prototype.buildCodeFrameError = function buildCodeFrameError(node, msg) {\n    var Error = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : SyntaxError;\n\n    var loc = node && (node.loc || node._loc);\n\n    var err = new Error(msg);\n\n    if (loc) {\n      err.loc = loc.start;\n    } else {\n      (0, _babelTraverse2.default)(node, errorVisitor, this.scope, err);\n\n      err.message += \" (This is an error on an internal node. Probably an internal error\";\n\n      if (err.loc) {\n        err.message += \". Location has been estimated.\";\n      }\n\n      err.message += \")\";\n    }\n\n    return err;\n  };\n\n  File.prototype.mergeSourceMap = function mergeSourceMap(map) {\n    var inputMap = this.opts.inputSourceMap;\n\n    if (inputMap) {\n      var _ret = function () {\n        var inputMapConsumer = new _sourceMap2.default.SourceMapConsumer(inputMap);\n        var outputMapConsumer = new _sourceMap2.default.SourceMapConsumer(map);\n\n        var mergedGenerator = new _sourceMap2.default.SourceMapGenerator({\n          file: inputMapConsumer.file,\n          sourceRoot: inputMapConsumer.sourceRoot\n        });\n\n        var source = outputMapConsumer.sources[0];\n\n        inputMapConsumer.eachMapping(function (mapping) {\n          var generatedPosition = outputMapConsumer.generatedPositionFor({\n            line: mapping.generatedLine,\n            column: mapping.generatedColumn,\n            source: source\n          });\n          if (generatedPosition.column != null) {\n            mergedGenerator.addMapping({\n              source: mapping.source,\n\n              original: mapping.source == null ? null : {\n                line: mapping.originalLine,\n                column: mapping.originalColumn\n              },\n\n              generated: generatedPosition\n            });\n          }\n        });\n\n        var mergedMap = mergedGenerator.toJSON();\n        inputMap.mappings = mergedMap.mappings;\n        return {\n          v: inputMap\n        };\n      }();\n\n      if ((typeof _ret === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(_ret)) === \"object\") return _ret.v;\n    } else {\n      return map;\n    }\n  };\n\n  File.prototype.parse = function parse(code) {\n    var parseCode = _babylon.parse;\n    var parserOpts = this.opts.parserOpts;\n\n    if (parserOpts) {\n      parserOpts = (0, _assign2.default)({}, this.parserOpts, parserOpts);\n\n      if (parserOpts.parser) {\n        if (typeof parserOpts.parser === \"string\") {\n          var dirname = _path2.default.dirname(this.opts.filename) || process.cwd();\n          var parser = (0, _resolve2.default)(parserOpts.parser, dirname);\n          if (parser) {\n            parseCode = require(parser).parse;\n          } else {\n            throw new Error(\"Couldn't find parser \" + parserOpts.parser + \" with \\\"parse\\\" method relative to directory \" + dirname);\n          }\n        } else {\n          parseCode = parserOpts.parser;\n        }\n\n        parserOpts.parser = {\n          parse: function parse(source) {\n            return (0, _babylon.parse)(source, parserOpts);\n          }\n        };\n      }\n    }\n\n    this.log.debug(\"Parse start\");\n    var ast = parseCode(code, parserOpts || this.parserOpts);\n    this.log.debug(\"Parse stop\");\n    return ast;\n  };\n\n  File.prototype._addAst = function _addAst(ast) {\n    this.path = _babelTraverse.NodePath.get({\n      hub: this.hub,\n      parentPath: null,\n      parent: ast,\n      container: ast,\n      key: \"program\"\n    }).setContext();\n    this.scope = this.path.scope;\n    this.ast = ast;\n    this.getMetadata();\n  };\n\n  File.prototype.addAst = function addAst(ast) {\n    this.log.debug(\"Start set AST\");\n    this._addAst(ast);\n    this.log.debug(\"End set AST\");\n  };\n\n  File.prototype.transform = function transform() {\n    for (var i = 0; i < this.pluginPasses.length; i++) {\n      var pluginPasses = this.pluginPasses[i];\n      this.call(\"pre\", pluginPasses);\n      this.log.debug(\"Start transform traverse\");\n\n      var visitor = _babelTraverse2.default.visitors.merge(this.pluginVisitors[i], pluginPasses, this.opts.wrapPluginVisitorMethod);\n      (0, _babelTraverse2.default)(this.ast, visitor, this.scope);\n\n      this.log.debug(\"End transform traverse\");\n      this.call(\"post\", pluginPasses);\n    }\n\n    return this.generate();\n  };\n\n  File.prototype.wrap = function wrap(code, callback) {\n    code = code + \"\";\n\n    try {\n      if (this.shouldIgnore()) {\n        return this.makeResult({ code: code, ignored: true });\n      } else {\n        return callback();\n      }\n    } catch (err) {\n      if (err._babel) {\n        throw err;\n      } else {\n        err._babel = true;\n      }\n\n      var message = err.message = this.opts.filename + \": \" + err.message;\n\n      var loc = err.loc;\n      if (loc) {\n        err.codeFrame = (0, _babelCodeFrame2.default)(code, loc.line, loc.column + 1, this.opts);\n        message += \"\\n\" + err.codeFrame;\n      }\n\n      if (process.browser) {\n        err.message = message;\n      }\n\n      if (err.stack) {\n        var newStack = err.stack.replace(err.message, message);\n        err.stack = newStack;\n      }\n\n      throw err;\n    }\n  };\n\n  File.prototype.addCode = function addCode(code) {\n    code = (code || \"\") + \"\";\n    code = this.parseInputSourceMap(code);\n    this.code = code;\n  };\n\n  File.prototype.parseCode = function parseCode() {\n    this.parseShebang();\n    var ast = this.parse(this.code);\n    this.addAst(ast);\n  };\n\n  File.prototype.shouldIgnore = function shouldIgnore() {\n    var opts = this.opts;\n    return util.shouldIgnore(opts.filename, opts.ignore, opts.only);\n  };\n\n  File.prototype.call = function call(key, pluginPasses) {\n    for (var _iterator3 = pluginPasses, _isArray3 = Array.isArray(_iterator3), _i3 = 0, _iterator3 = _isArray3 ? _iterator3 : (0, _getIterator3.default)(_iterator3);;) {\n      var _ref3;\n\n      if (_isArray3) {\n        if (_i3 >= _iterator3.length) break;\n        _ref3 = _iterator3[_i3++];\n      } else {\n        _i3 = _iterator3.next();\n        if (_i3.done) break;\n        _ref3 = _i3.value;\n      }\n\n      var pass = _ref3;\n\n      var plugin = pass.plugin;\n      var fn = plugin[key];\n      if (fn) fn.call(pass, this);\n    }\n  };\n\n  File.prototype.parseInputSourceMap = function parseInputSourceMap(code) {\n    var opts = this.opts;\n\n    if (opts.inputSourceMap !== false) {\n      var inputMap = _convertSourceMap2.default.fromSource(code);\n      if (inputMap) {\n        opts.inputSourceMap = inputMap.toObject();\n        code = _convertSourceMap2.default.removeComments(code);\n      }\n    }\n\n    return code;\n  };\n\n  File.prototype.parseShebang = function parseShebang() {\n    var shebangMatch = shebangRegex.exec(this.code);\n    if (shebangMatch) {\n      this.shebang = shebangMatch[0];\n      this.code = this.code.replace(shebangRegex, \"\");\n    }\n  };\n\n  File.prototype.makeResult = function makeResult(_ref4) {\n    var code = _ref4.code,\n        map = _ref4.map,\n        ast = _ref4.ast,\n        ignored = _ref4.ignored;\n\n    var result = {\n      metadata: null,\n      options: this.opts,\n      ignored: !!ignored,\n      code: null,\n      ast: null,\n      map: map || null\n    };\n\n    if (this.opts.code) {\n      result.code = code;\n    }\n\n    if (this.opts.ast) {\n      result.ast = ast;\n    }\n\n    if (this.opts.metadata) {\n      result.metadata = this.metadata;\n    }\n\n    return result;\n  };\n\n  File.prototype.generate = function generate() {\n    var opts = this.opts;\n    var ast = this.ast;\n\n    var result = { ast: ast };\n    if (!opts.code) return this.makeResult(result);\n\n    var gen = _babelGenerator2.default;\n    if (opts.generatorOpts.generator) {\n      gen = opts.generatorOpts.generator;\n\n      if (typeof gen === \"string\") {\n        var dirname = _path2.default.dirname(this.opts.filename) || process.cwd();\n        var generator = (0, _resolve2.default)(gen, dirname);\n        if (generator) {\n          gen = require(generator).print;\n        } else {\n          throw new Error(\"Couldn't find generator \" + gen + \" with \\\"print\\\" method relative to directory \" + dirname);\n        }\n      }\n    }\n\n    this.log.debug(\"Generation start\");\n\n    var _result = gen(ast, opts.generatorOpts ? (0, _assign2.default)(opts, opts.generatorOpts) : opts, this.code);\n    result.code = _result.code;\n    result.map = _result.map;\n\n    this.log.debug(\"Generation end\");\n\n    if (this.shebang) {\n      result.code = this.shebang + \"\\n\" + result.code;\n    }\n\n    if (result.map) {\n      result.map = this.mergeSourceMap(result.map);\n    }\n\n    if (opts.sourceMaps === \"inline\" || opts.sourceMaps === \"both\") {\n      result.code += \"\\n\" + _convertSourceMap2.default.fromObject(result.map).toComment();\n    }\n\n    if (opts.sourceMaps === \"inline\") {\n      result.map = null;\n    }\n\n    return this.makeResult(result);\n  };\n\n  return File;\n}(_store2.default);\n\nexports.default = File;\nexports.File = File;"]}