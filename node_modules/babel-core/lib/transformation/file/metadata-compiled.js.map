{"version":3,"sources":["metadata.js"],"names":[],"mappings":"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","file":"metadata-compiled.js","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports.ImportDeclaration = exports.ModuleDeclaration = undefined;\n\nvar _getIterator2 = require(\"babel-runtime/core-js/get-iterator\");\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nexports.ExportDeclaration = ExportDeclaration;\nexports.Scope = Scope;\n\nvar _babelTypes = require(\"babel-types\");\n\nvar t = _interopRequireWildcard(_babelTypes);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ModuleDeclaration = exports.ModuleDeclaration = {\n  enter: function enter(path, file) {\n    var node = path.node;\n\n    if (node.source) {\n      node.source.value = file.resolveModuleSource(node.source.value);\n    }\n  }\n};\n\nvar ImportDeclaration = exports.ImportDeclaration = {\n  exit: function exit(path, file) {\n    var node = path.node;\n\n\n    var specifiers = [];\n    var imported = [];\n    file.metadata.modules.imports.push({\n      source: node.source.value,\n      imported: imported,\n      specifiers: specifiers\n    });\n\n    for (var _iterator = path.get(\"specifiers\"), _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : (0, _getIterator3.default)(_iterator);;) {\n      var _ref;\n\n      if (_isArray) {\n        if (_i >= _iterator.length) break;\n        _ref = _iterator[_i++];\n      } else {\n        _i = _iterator.next();\n        if (_i.done) break;\n        _ref = _i.value;\n      }\n\n      var specifier = _ref;\n\n      var local = specifier.node.local.name;\n\n      if (specifier.isImportDefaultSpecifier()) {\n        imported.push(\"default\");\n        specifiers.push({\n          kind: \"named\",\n          imported: \"default\",\n          local: local\n        });\n      }\n\n      if (specifier.isImportSpecifier()) {\n        var importedName = specifier.node.imported.name;\n        imported.push(importedName);\n        specifiers.push({\n          kind: \"named\",\n          imported: importedName,\n          local: local\n        });\n      }\n\n      if (specifier.isImportNamespaceSpecifier()) {\n        imported.push(\"*\");\n        specifiers.push({\n          kind: \"namespace\",\n          local: local\n        });\n      }\n    }\n  }\n};\n\nfunction ExportDeclaration(path, file) {\n  var node = path.node;\n\n\n  var source = node.source ? node.source.value : null;\n  var exports = file.metadata.modules.exports;\n\n  var declar = path.get(\"declaration\");\n  if (declar.isStatement()) {\n    var bindings = declar.getBindingIdentifiers();\n\n    for (var name in bindings) {\n      exports.exported.push(name);\n      exports.specifiers.push({\n        kind: \"local\",\n        local: name,\n        exported: path.isExportDefaultDeclaration() ? \"default\" : name\n      });\n    }\n  }\n\n  if (path.isExportNamedDeclaration() && node.specifiers) {\n    for (var _iterator2 = node.specifiers, _isArray2 = Array.isArray(_iterator2), _i2 = 0, _iterator2 = _isArray2 ? _iterator2 : (0, _getIterator3.default)(_iterator2);;) {\n      var _ref2;\n\n      if (_isArray2) {\n        if (_i2 >= _iterator2.length) break;\n        _ref2 = _iterator2[_i2++];\n      } else {\n        _i2 = _iterator2.next();\n        if (_i2.done) break;\n        _ref2 = _i2.value;\n      }\n\n      var specifier = _ref2;\n\n      var exported = specifier.exported.name;\n      exports.exported.push(exported);\n\n      if (t.isExportDefaultSpecifier(specifier)) {\n        exports.specifiers.push({\n          kind: \"external\",\n          local: exported,\n          exported: exported,\n          source: source\n        });\n      }\n\n      if (t.isExportNamespaceSpecifier(specifier)) {\n        exports.specifiers.push({\n          kind: \"external-namespace\",\n          exported: exported,\n          source: source\n        });\n      }\n\n      var local = specifier.local;\n      if (!local) continue;\n\n      if (source) {\n        exports.specifiers.push({\n          kind: \"external\",\n          local: local.name,\n          exported: exported,\n          source: source\n        });\n      }\n\n      if (!source) {\n        exports.specifiers.push({\n          kind: \"local\",\n          local: local.name,\n          exported: exported\n        });\n      }\n    }\n  }\n\n  if (path.isExportAllDeclaration()) {\n    exports.specifiers.push({\n      kind: \"external-all\",\n      source: source\n    });\n  }\n}\n\nfunction Scope(path) {\n  path.skip();\n}"]}