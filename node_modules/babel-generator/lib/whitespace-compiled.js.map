{"version":3,"sources":["whitespace.js"],"names":[],"mappings":"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","file":"whitespace-compiled.js","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Whitespace = function () {\n  function Whitespace(tokens) {\n    (0, _classCallCheck3.default)(this, Whitespace);\n\n    this.tokens = tokens;\n    this.used = {};\n  }\n\n  Whitespace.prototype.getNewlinesBefore = function getNewlinesBefore(node) {\n    var startToken = void 0;\n    var endToken = void 0;\n    var tokens = this.tokens;\n\n    var index = this._findToken(function (token) {\n      return token.start - node.start;\n    }, 0, tokens.length);\n    if (index >= 0) {\n      while (index && node.start === tokens[index - 1].start) {\n        --index;\n      }startToken = tokens[index - 1];\n      endToken = tokens[index];\n    }\n\n    return this._getNewlinesBetween(startToken, endToken);\n  };\n\n  Whitespace.prototype.getNewlinesAfter = function getNewlinesAfter(node) {\n    var startToken = void 0;\n    var endToken = void 0;\n    var tokens = this.tokens;\n\n    var index = this._findToken(function (token) {\n      return token.end - node.end;\n    }, 0, tokens.length);\n    if (index >= 0) {\n      while (index && node.end === tokens[index - 1].end) {\n        --index;\n      }startToken = tokens[index];\n      endToken = tokens[index + 1];\n      if (endToken.type.label === \",\") endToken = tokens[index + 2];\n    }\n\n    if (endToken && endToken.type.label === \"eof\") {\n      return 1;\n    } else {\n      return this._getNewlinesBetween(startToken, endToken);\n    }\n  };\n\n  Whitespace.prototype._getNewlinesBetween = function _getNewlinesBetween(startToken, endToken) {\n    if (!endToken || !endToken.loc) return 0;\n\n    var start = startToken ? startToken.loc.end.line : 1;\n    var end = endToken.loc.start.line;\n    var lines = 0;\n\n    for (var line = start; line < end; line++) {\n      if (typeof this.used[line] === \"undefined\") {\n        this.used[line] = true;\n        lines++;\n      }\n    }\n\n    return lines;\n  };\n\n  Whitespace.prototype._findToken = function _findToken(test, start, end) {\n    if (start >= end) return -1;\n    var middle = start + end >>> 1;\n    var match = test(this.tokens[middle]);\n    if (match < 0) {\n      return this._findToken(test, middle + 1, end);\n    } else if (match > 0) {\n      return this._findToken(test, start, middle);\n    } else if (match === 0) {\n      return middle;\n    }\n    return -1;\n  };\n\n  return Whitespace;\n}();\n\nexports.default = Whitespace;\nmodule.exports = exports[\"default\"];"]}