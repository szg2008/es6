{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index-compiled.js","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports.CodeGenerator = undefined;\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nexports.default = function (ast, opts, code) {\n  var gen = new Generator(ast, opts, code);\n  return gen.generate();\n};\n\nvar _detectIndent = require(\"detect-indent\");\n\nvar _detectIndent2 = _interopRequireDefault(_detectIndent);\n\nvar _sourceMap = require(\"./source-map\");\n\nvar _sourceMap2 = _interopRequireDefault(_sourceMap);\n\nvar _babelMessages = require(\"babel-messages\");\n\nvar messages = _interopRequireWildcard(_babelMessages);\n\nvar _printer = require(\"./printer\");\n\nvar _printer2 = _interopRequireDefault(_printer);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Generator = function (_Printer) {\n  (0, _inherits3.default)(Generator, _Printer);\n\n  function Generator(ast, opts, code) {\n    (0, _classCallCheck3.default)(this, Generator);\n\n    opts = opts || {};\n\n    var tokens = ast.tokens || [];\n    var format = normalizeOptions(code, opts, tokens);\n    var map = opts.sourceMaps ? new _sourceMap2.default(opts, code) : null;\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, _Printer.call(this, format, map, tokens));\n\n    _this.ast = ast;\n    return _this;\n  }\n\n  Generator.prototype.generate = function generate() {\n    return _Printer.prototype.generate.call(this, this.ast);\n  };\n\n  return Generator;\n}(_printer2.default);\n\nfunction normalizeOptions(code, opts, tokens) {\n  var style = \"  \";\n  if (code && typeof code === \"string\") {\n    var indent = (0, _detectIndent2.default)(code).indent;\n    if (indent && indent !== \" \") style = indent;\n  }\n\n  var format = {\n    auxiliaryCommentBefore: opts.auxiliaryCommentBefore,\n    auxiliaryCommentAfter: opts.auxiliaryCommentAfter,\n    shouldPrintComment: opts.shouldPrintComment,\n    retainLines: opts.retainLines,\n    retainFunctionParens: opts.retainFunctionParens,\n    comments: opts.comments == null || opts.comments,\n    compact: opts.compact,\n    minified: opts.minified,\n    concise: opts.concise,\n    quotes: opts.quotes || findCommonStringDelimiter(code, tokens),\n    jsonCompatibleStrings: opts.jsonCompatibleStrings,\n    indent: {\n      adjustMultilineComment: true,\n      style: style,\n      base: 0\n    },\n    flowCommaSeparator: opts.flowCommaSeparator\n  };\n\n  if (format.minified) {\n    format.compact = true;\n\n    format.shouldPrintComment = format.shouldPrintComment || function () {\n      return format.comments;\n    };\n  } else {\n    format.shouldPrintComment = format.shouldPrintComment || function (value) {\n      return format.comments || value.indexOf(\"@license\") >= 0 || value.indexOf(\"@preserve\") >= 0;\n    };\n  }\n\n  if (format.compact === \"auto\") {\n    format.compact = code.length > 100000;\n\n    if (format.compact) {\n      console.error(\"[BABEL] \" + messages.get(\"codeGeneratorDeopt\", opts.filename, \"100KB\"));\n    }\n  }\n\n  if (format.compact) {\n    format.indent.adjustMultilineComment = false;\n  }\n\n  return format;\n}\n\nfunction findCommonStringDelimiter(code, tokens) {\n  var DEFAULT_STRING_DELIMITER = \"double\";\n  if (!code) {\n    return DEFAULT_STRING_DELIMITER;\n  }\n\n  var occurences = {\n    single: 0,\n    double: 0\n  };\n\n  var checked = 0;\n\n  for (var i = 0; i < tokens.length; i++) {\n    var token = tokens[i];\n    if (token.type.label !== \"string\") continue;\n\n    var raw = code.slice(token.start, token.end);\n    if (raw[0] === \"'\") {\n      occurences.single++;\n    } else {\n      occurences.double++;\n    }\n\n    checked++;\n    if (checked >= 3) break;\n  }\n  if (occurences.single > occurences.double) {\n    return \"single\";\n  } else {\n    return \"double\";\n  }\n}\n\nvar CodeGenerator = exports.CodeGenerator = function () {\n  function CodeGenerator(ast, opts, code) {\n    (0, _classCallCheck3.default)(this, CodeGenerator);\n\n    this._generator = new Generator(ast, opts, code);\n  }\n\n  CodeGenerator.prototype.generate = function generate() {\n    return this._generator.generate();\n  };\n\n  return CodeGenerator;\n}();"]}